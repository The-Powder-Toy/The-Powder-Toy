#ifdef LUACONSOLE
#ifdef _MSC_VER
#include "Platform.h"
#include "resource.h"
#endif
#include "lua/LuaCompat.h"
void luaopen_crackerk(lua_State *l)
{
#ifndef _MSC_VER
	int crackerk_luac_sz = 24541;
	const char* crackerk_luac = "--Cracker1000's custom script \015\n\015\nlocal toggle = Button:new(314,0,23,12, \"V\", \"Toggle additional menus.\")\015\nlocal newmenu = Window:new(-15,-15, 610, 300)\015\nlocal creditstxt1 = Label:new(140,-20,80, 60,\"Welcome to the Crackerk script 2.0. Tip: 'J' can be used as a shortcut.\")\015\nnewmenu:addComponent(creditstxt1)\015\n\015\nlocal deletesparkButton =  Button:new(10,28,75,30,\"Interface\", \"shows UI related stuff.\")\015\n\015\nlocal UIhidey = Button:new(90,28,80,20,\"Hide\", \"Hides the UI\")\015\nlocal UIhiden = Button:new(90,48,80,20,\"Show\", \"Shows the UI\")\015\n\015\nlocal FPS = Button:new(10,60,75,30, \"Frame limiter\", \"Turns the frame limiter on/off.\")\015\nlocal FPS1 = Button:new(90,60,80,20, \"On\", \"Turns the frame limiter on.\")\015\nlocal FPS2 = Button:new(90,80,80,20, \"Off\", \"Turns the frame limiter off.\")\015\n\015\nlocal reset= Button:new(10,92,75,30,\"Reset\", \"Reset everything.\")\015\n\015\nlocal info= Button:new(10,124,75,30,\"Stack tools\", \"Usefull for subframe.\")\015\nlocal info1= Button:new(90,124,80,20,\"Separate\", \"Removes top most particle from stack.\")\015\nlocal info2= Button:new(90,144,80,20,\"Delete\", \"Leaves top particle and PHOT but remove everything else.\")\015\n\015\nlocal Ruler = Button:new(10,156,75,30, \"Ruler\", \"Toggles in game ruler.\")\015\nlocal Ry = Button:new(90,156,80,20,\"Hide\", \"Hides the Ruler\")\015\nlocal Rn = Button:new(90,176,80,20,\"Show\", \"Shows the Ruler. (Press SHIFT)\")\015\n\015\nlocal rc = Button:new(10,188,75,30,\"Record\", \"Options for recording frames\")\015\nlocal rc1 = Button:new(90,188,80,20,\"Start\", \"Starts recording\")\015\nlocal rc2 = Button:new(90,206,80,20,\"Stop\",\"Stops recording\")\015\n\015\nlocal bar = Button:new(10,220,75,30,\"Top bar\", \"Toggle top bar\")\015\nlocal bary = Button:new(90,220,80,20,\"Show\", \"Shows the bar at top\")\015\nlocal barn = Button:new(90,240,80,20,\"Hide\", \"Hides the bar\")\015\n\015\nlocal bug = Button:new(10,252,75,30,\"Feedback\", \"Direct to Mod thread for bug report.\")\015\nlocal bug1 = Button:new(90,252,80,30,\"Website\", \"Direct to Mod thread for bug report.\")\015\nlocal bug2 = Button:new(180,252,80,30,\"In game\", \"Direct to Mod thread for bug report.\")\015\n\015\nlocal wiki  =  Button:new(203,28,80,30,\"Wiki\", \"Element wiki!\")\015\n\015\nlocal bare = Button:new(203,60,80,30,\"Hidden Elem.\", \"Toggle hidden elements.\")\015\nlocal barye = Button:new(293,60,80,20,\"Show\", \"Shows hidden elements\")\015\nlocal barne = Button:new(293,80,80,20,\"Hide\", \"Hides elements\")\015\n\015\nlocal mp = Button:new(203,92,80,30,\"Theme\", \"Changes game's theme\")\015\nlocal mp1 = Button:new(293,92,75,20,\"Dark\", \"Change the theme to default\")\015\nlocal mp2 = Button:new(293,112,75,20,\"Fire\", \"Change the theme to Blue\")\015\nlocal mp3 = Button:new(293,132,75,20,\"Aqua\", \"Change the theme to Red\")\015\nlocal mp4 = Button:new(293,152,75,20,\"Forest\", \"Change the theme to Green\")\015\nlocal mp5 = Button:new(293,172,75,20,\"Sun\", \"Change the theme to Yellow\")\015\nlocal mp6 = Button:new(293,192,75,20,\"Orange\", \"Change the theme to Orange\")\015\nlocal mp7 = Button:new(293,212,75,20,\"Vanilla\", \"Change the theme back to Plain white\")\015\nlocal mp8 = Button:new(293,232,75,20,\"Pulse\", \"RBG makes everything better.\")\015\n\015\nlocal bg = Button:new(203,124,80,30,\"Backgrounds\", \"Sets different backgrounds.\")\015\nlocal bg1 = Button:new(293,124,75,20,\"BLACK\", \"Default\")\015\nlocal bg2 = Button:new(293,146,75,20,\"BLUE\", \"Blue background\")\015\nlocal bg3 = Button:new(293,166,75,20,\"RED\", \"Red background\")\015\nlocal bg4 = Button:new(293,186,75,20,\"GREEN\", \"Green background\")\015\nlocal bg5 = Button:new(293,206,75,20,\"YELLOW\", \"Yellow background\")\015\nlocal bgI = Button:new(373,124,75,20,\"Brighten\", \"Increase brightness\")\015\nlocal bgD = Button:new(373,146,75,20,\"Dimmer\", \"Decrease brightness\")\015\n\015\nlocal autohide= Button:new(203,156,80,30, \"Auto Hide HUD\", \"Hide.\")\015\nlocal autohidey= Button:new(293,156,75,20, \"On\", \"Hide.\")\015\nlocal autohiden= Button:new(293,176,75,20, \"Off\", \"Hide.\")\015\n\015\nlocal hide= Button:new(528,278,80,20, \"Close menu\", \"Hide.\")\015\n\015\nfunction clearm()\015\nnewmenu:removeComponent(reset)\015\nnewmenu:removeComponent(FPS)\015\nnewmenu:removeComponent(deletesparkButton)\015\nnewmenu:removeComponent(hide)\015\nnewmenu:removeComponent(info)\015\nnewmenu:removeComponent(Ruler)\015\nnewmenu:removeComponent(mp)\015\nnewmenu:removeComponent(rc)\015\nnewmenu:removeComponent(bg)\015\nnewmenu:removeComponent(bug)\015\nnewmenu:removeComponent(bar)\015\nnewmenu:removeComponent(bare)\015\nnewmenu:removeComponent(wiki)\015\nnewmenu:removeComponent(autohide)\015\nend\015\n\015\nfunction clearsb()\015\nnewmenu:removeComponent(UIhiden)\015\nnewmenu:removeComponent(UIhidey)\015\nnewmenu:removeComponent(Ry)\015\nnewmenu:removeComponent(Rn)\015\nnewmenu:removeComponent(rc1)\015\nnewmenu:removeComponent(rc2)\015\nnewmenu:removeComponent(bug1)\015\nnewmenu:removeComponent(bug2)\015\nnewmenu:removeComponent(bg1)\015\nnewmenu:removeComponent(bg2)\015\nnewmenu:removeComponent(bg3)\015\nnewmenu:removeComponent(bg4)\015\nnewmenu:removeComponent(bg5)\015\nnewmenu:removeComponent(bgI)\015\nnewmenu:removeComponent(bgD)\015\nnewmenu:removeComponent(FPS1)\015\nnewmenu:removeComponent(FPS2)\015\nnewmenu:removeComponent(mp1)\015\nnewmenu:removeComponent(mp2)\015\nnewmenu:removeComponent(mp3)\015\nnewmenu:removeComponent(mp4)\015\nnewmenu:removeComponent(mp5)\015\nnewmenu:removeComponent(mp6)\015\nnewmenu:removeComponent(mp7)\015\nnewmenu:removeComponent(mp8)\015\nnewmenu:removeComponent(bary)\015\nnewmenu:removeComponent(barn)\015\nnewmenu:removeComponent(barye)\015\nnewmenu:removeComponent(barne)\015\nnewmenu:removeComponent(info1)\015\nnewmenu:removeComponent(info2)\015\nnewmenu:removeComponent(autohidey)\015\nnewmenu:removeComponent(autohiden)\015\nend\015\n\015\nfunction autohidehud()\015\n\011if tpt.mousey <= 55 then tpt.hud(0) else tpt.hud(1)\015\n\011end\015\nend\015\n\015\nautohide:action(function(sender)\015\nclearsb()\015\nnewmenu:addComponent(autohidey)\015\nnewmenu:addComponent(autohiden)\015\nend)\015\n\015\nautohidey:action(function(sender)\015\ntpt.register_step(autohidehud)\015\nclearsb()\015\nend)\015\n\015\nautohiden:action(function(sender)\015\ntpt.unregister_step(autohidehud)\015\nclearsb()\015\nend)\015\n\015\nbug:action(function(sender)\015\nclearsb()\015\nnewmenu:addComponent(bug1)\015\nnewmenu:addComponent(bug2)\015\nend)\015\n\015\nbug1:action(function(sender)\015\nclearsb()\015\nplatform.openLink(\"https://powdertoy.co.uk/Discussions/Thread/View.html?Thread=23279\")\015\nend)\015\n\015\nbug2:action(function(sender)\015\nsim.loadSave(2596812,0) \015\nclearsb()\015\nend)\015\n\015\nbare:action(function(sender)\015\nclearsb()\015\nnewmenu:addComponent(barye)\015\nnewmenu:addComponent(barne)\015\nend)\015\n\015\nbarye:action(function(sender)\015\ntpt.el.dyst.menusection=8\015\ntpt.el.eqve.menusection=8\015\ntpt.el.shd4.menusection=9\015\ntpt.el.shd3.menusection=9\015\ntpt.el.shd2.menusection=9\015\ntpt.el.lolz.menusection=11\015\ntpt.el.love.menusection=11\015\ntpt.el.embr.menusection=4\015\ntpt.el.spwn.menusection=11\015\ntpt.el.spwn2.menusection=11\015\ntpt.el.frzw.menusection=7\015\ntpt.el.bizs.menusection=9\015\ntpt.el.bizg.menusection=6\015\ntpt.el.bray.menusection=9\015\ntpt.el.psts.menusection=8\015\ntpt.el.mort.menusection=5\015\ntpt.el.dyst.menu=1\015\ntpt.el.eqve.menu=1\015\ntpt.el.shd4.menu=1\015\ntpt.el.shd3.menu=1\015\ntpt.el.shd2.menu=1\015\ntpt.el.lolz.menu=1\015\ntpt.el.love.menu=1\015\ntpt.el.embr.menu=1\015\ntpt.el.spwn.menu=1\015\ntpt.el.spwn2.menu=1\015\ntpt.el.frzw.menu=1\015\ntpt.el.bizs.menu=1\015\ntpt.el.bizg.menu=1\015\ntpt.el.bray.menu=1\015\ntpt.el.psts.menu=1\015\ntpt.el.mort.menu=1\015\nclearsb()\015\nend)\015\n\015\nbarne:action(function(sender)\015\ntpt.el.dyst.menu=0\015\ntpt.el.eqve.menu=0\015\ntpt.el.shd4.menu=0\015\ntpt.el.shd3.menu=0\015\ntpt.el.shd2.menu=0\015\ntpt.el.lolz.menu=0\015\ntpt.el.love.menu=0\015\ntpt.el.embr.menu=0\015\ntpt.el.spwn.menu=0\015\ntpt.el.spwn2.menu=0\015\ntpt.el.frzw.menu=0\015\ntpt.el.bizs.menu=0\015\ntpt.el.bizg.menu=0\015\ntpt.el.bray.menu=0\015\ntpt.el.psts.menu=0\015\ntpt.el.mort.menu=0\015\nclearsb()\015\nend)\015\n\015\nwiki:action(function(sender)\015\nlocal creditw = Window:new(-15,-15, 624, 422)\015\nlocal close2 = Button:new(512, 400, 100, 15, \"Close wiki\")\015\nlocal creditstxt = Label:new(6,-25, 598, 418, \" WELCOME TO THE OFFLINE WIKI VERSION 2.0.\\n\\n CWIR: Customisable wire, conducts sprk at variable speed. Use .tmp to customise. (Range 0 to 30).\\n C-16: A powerful explosive. Explodes creating pressure about 40 units when above 65C.\\n TIMC: Time based convertor, converts into it's ctype when sparked with PSCN. Timer set using .tmp, default is 100.\\n FUEL: FUEL. Fuel having high calorific value.\\n THRM: Thermostat. Sets the temp of surrounding according to its own temp.\\n CLNT: Coolant. Cools down the temp of the system, Use .tmp to configure the cooling/heating power. \\n DMRN: Demron. Radioactive shielding material and a better insulator.\\n FNTC & FPTC: Faster versions of NTCT and PTCT.\\n PINV: Powered Invisible, allows particles to move through when activated.\\n UV: Ultra violet rays, heals stkm and figh, grows plnt, can sprk pscn and evaporates watr.\\n SUN.: Sun, PLNT grow in direction of sunlight, emits radiation, makes PSCN spark and heals STKMs.\\n LITH: Lithium ion battery, Use with PSCN and NSCN. Charges with INST when deactivated. Life sets capacity.\\n Reacts with different elements like O2, WATR, ACID etc as IRL.\\n LED:  Light Emmiting Diode. Use with PSCN and NSCN. Temp sets the brightness.\\n Different .tmp2 modes: 0 = white, 1= red, 2= green, 3 =blue, 4= yellow and 5 = pink. \\n QGP: Quark Gluon Plasma, bursts out radiation afer sometime. Turns into Purple QGP when under 100C which is stable.\\n TMPS: .tmp sensor, creats sprk when there is an element with higher .tmp than its temp.\\n PHOS: White, slowly turns into red phosphorus with time. When in contact with O2, burns blue or red based on .tmp.\\n Oil reverses the oxidation turning it back into white PHOS. Melts at 45C.\\n CMNT: Cement, heats up when mixed with water and gets solidified, darkens when solidified.\\n NTRG: Nitrogen gas, liquifies to LN2 when cooled or when under pressure, reacts with H2 to make NITR and puts out fire.\\n PRMT: Promethium, radioactive. Catches fire at high velocity (>12), creats NEUT when in reacted with PLUT. \\n Explodes at low temp and emits neut at high temp.\\n CLUD: Realistic cloud, rains and creates LIGH after sometime.\\n BEE: Eats PLNT. Secretes wax when in contact with wood and life > 75.  Attacks STKMs and FIGH.\\n Gets aggresive if life gets below 30. Uses pressure waves to communicate when in danger!\\n ECLR: Electronic eraser, clears the defined radius when sparked with PSCN. NSCN clears everything. Use.tmp as radius.\")\015\ncreditw:addComponent(creditstxt)\015\ncreditw:addComponent(close2)\015\nclose2:action(function() ui.closeWindow(creditw) end)\015\nclearsb()\015\nui.showWindow(creditw) \015\nend)\015\n\015\ninfo:action(function(sender)\015\nclearsb()\015\nnewmenu:addComponent(info1)\015\nnewmenu:addComponent(info2)\015\nend)\015\n\015\ninfo1:action(function(sender)\015\nfor i in sim.parts() do\015\n\011\011local x,y = sim.partProperty(i, sim.FIELD_X),sim.partProperty(i, sim.FIELD_Y)\015\n\011\011if sim.pmap (x, y) == i then \015\n                                tpt.delete(i)\015\n\011\011end\015\n\011end\015\nend)\015\n\015\ninfo2:action(function(sender)\015\nfor i in sim.parts() do\015\n\011\011local x,y = sim.partProperty(i, sim.FIELD_X),sim.partProperty(i, sim.FIELD_Y)\015\n\011\011if sim.pmap(x, y) ~= i and bit.band(elem.property(sim.partProperty(i, sim.FIELD_TYPE), \"Properties\"), elem.TYPE_ENERGY) == 0 then\015\n\011\011\011tpt.delete(i)\015\n\011\011end\015\n\011end\015\nend)\015\n\015\nbg:action(function(sender)\015\nclearsb()\015\nnewmenu:addComponent(bg1)\015\nnewmenu:addComponent(bg2)\015\nnewmenu:addComponent(bg3)\015\nnewmenu:addComponent(bg4)\015\nnewmenu:addComponent(bg5)\015\nnewmenu:addComponent(bgI)\015\nnewmenu:addComponent(bgD)\015\nend)\015\n\015\nlocal as = 60\015\n\015\nfunction backb()\015\ntpt.fillrect(0,0,610,385,0,0,255,as)\015\nend\015\nfunction backr()\015\ntpt.fillrect(0,0,610,385,255,0,0,as)\015\nend\015\nfunction backg()\015\ntpt.fillrect(0,0,610,385,0,255,0,as)\015\nend\015\nfunction backy()\015\ntpt.fillrect(0,0,610,385,255,255,0,as)\015\nend\015\n\015\nfunction clearbg()\015\nnewmenu:removeComponent(bgI)\015\nnewmenu:removeComponent(bgD)\015\nnewmenu:removeComponent(bg5)\015\nnewmenu:removeComponent(bg4)\015\nnewmenu:removeComponent(bg3)\015\nnewmenu:removeComponent(bg2)\015\nnewmenu:removeComponent(bg1)\015\ntpt.unregister_step(backy)\015\ntpt.unregister_step(backb)\015\ntpt.unregister_step(backr)\015\ntpt.unregister_step(backg)\015\nend\015\n\015\ntgr = 0\015\ntgg  = 0\015\ntgb = 200\015\n\015\nbgI:action(function(sender)\015\nas = as+30\015\nend)\015\nbgD:action(function(sender)\015\nas = as-30\015\nend)\015\n\015\nbg1:action(function(sender)\015\nclearbg()\015\ntgr = 0\015\ntgg  = 0\015\ntgb = 200\015\nend)\015\nbg2:action(function(sender)\015\ntgr = 0\015\ntgg  = 0\015\ntgb = 200\015\nclearbg()\015\ntpt.register_step(backb)\015\nend)\015\n\015\nbg3:action(function(sender)\015\ntgr = 200\015\ntgg  = 0\015\ntgb = 0\015\nclearbg()\015\ntpt.register_step(backr)\015\nend)\015\n\015\nbg4:action(function(sender)\015\ntgr = 0\015\ntgg  = 200\015\ntgb = 0\015\nclearbg()\015\ntpt.register_step(backg)\015\nend)\015\n\015\nbg5:action(function(sender)\015\ntgr = 200\015\ntgg  = 200\015\ntgb = 0\015\nclearbg()\015\ntpt.register_step(backy)\015\nend)\015\n\015\nrc:action(function(sender)\015\nclearsb()\015\nnewmenu:addComponent(rc1)\015\nnewmenu:addComponent(rc2)\015\nend)\015\n\015\nrc1:action(function(sender)\015\ntpt.record(true)\015\nui.closeWindow(newmenu) \015\nnewmenu:removeComponent(rc1)\015\nnewmenu:removeComponent(rc2)\015\nend)\015\n\015\nrc2:action(function(sender)\015\nui.closeWindow(newmenu) \015\ntpt.record(false)\015\nui.closeWindow(newmenu) \015\nnewmenu:removeComponent(rc1)\015\nnewmenu:removeComponent(rc2)\015\nend)\015\n\015\nfunction theme()\015\nif MANAGER.getsetting(\"CRK\", \"savergb\") == \"0\" then \015\nar = MANAGER.getsetting(\"CRK\", \"ar\")\015\nag = MANAGER.getsetting(\"CRK\", \"ag\")\015\nab = MANAGER.getsetting(\"CRK\", \"ab\")\015\nal = MANAGER.getsetting(\"CRK\", \"al\")\015\ntpt.drawrect(613,1,14,95,ar,ag,ab,al)\015\ntpt.drawrect(613,136,14,269,ar,ag,ab,al)\015\ntpt.drawline(612,408,612,421,ar,ag,ab,al)\015\ntpt.drawline(187,409,187,422,ar,ag,ab,al)\015\ntpt.drawline(469,408,469,421,ar,ag,ab,al)\015\ntpt.drawline(487,408,487,421,ar,ag,ab,al)\015\ntpt.drawline(507,408,507,421,ar,ag,ab,al)\015\n\015\ntpt.drawline(241,408,241,421,ar,ag,ab,al)\015\ntpt.drawline(36,408,36,421,ar,ag,ab,al)\015\ntpt.drawline(18,408,18,421,ar,ag,ab,al)\015\ntpt.drawline(580,409,580,422,ar,ag,ab,al)\015\ntpt.drawline(596,409,596,422,ar,ag,ab,al)\015\ntpt.drawrect(1,408,626,14,ar,ag,ab,al)\015\n\015\ntpt.drawline(613,96,627,96,ar,ag,ab,al)\015\ntpt.drawline(613,16,627,16,ar,ag,ab,al)\015\ntpt.drawline(613,32,627,32,ar,ag,ab,al)\015\ntpt.drawline(613,48,627,48,ar,ag,ab,al)\015\ntpt.drawline(613,64,627,64,ar,ag,ab,al)\015\ntpt.drawline(613,80,627,80,ar,ag,ab,al)\015\n\015\ntpt.drawline(613,151,627,151,ar,ag,ab,al)\015\ntpt.drawline(613,167,627,167,ar,ag,ab,al)\015\ntpt.drawline(613,183,627,183,ar,ag,ab,al)\015\ntpt.drawline(613,199,627,199,ar,ag,ab,al)\015\ntpt.drawline(613,215,627,215,ar,ag,ab,al)\015\ntpt.drawline(613,231,627,231,ar,ag,ab,al)\015\ntpt.drawline(613,247,627,247,ar,ag,ab,al)\015\ntpt.drawline(613,263,627,263,ar,ag,ab,al)\015\ntpt.drawline(613,279,627,279,ar,ag,ab,al)\015\ntpt.drawline(613,295,627,295,ar,ag,ab,al)\015\ntpt.drawline(613,311,627,311,ar,ag,ab,al)\015\ntpt.drawline(613,327,627,327,ar,ag,ab,al)\015\ntpt.drawline(613,343,627,343,ar,ag,ab,al)\015\ntpt.drawline(613,359,627,359,ar,ag,ab,al)\015\ntpt.drawline(613,375,627,375,ar,ag,ab,al)\015\ntpt.drawline(613,391,627,391,ar,ag,ab,al)\015\nend\015\nend\015\n\015\nframeCount,colourRED,colourGRN,colourBLU = 0,0,0,0\015\nfunction colourblender()\015\nif MANAGER.getsetting(\"CRK\", \"savergb\") == nil then\015\nsavergb = 1\015\nend \015\n\015\n colourRGB = {colourRED,colourGRN,colourBLU}\015\n if frameCount > 1529 then frameCount = 0 else frameCount = frameCount + 1 end\015\n if frameCount > 0 and frameCount < 255 then\015\n  colourRED = 255\015\n  if colourGRN > 254 then else colourGRN = colourGRN + 1 end\015\n end\015\n if frameCount > 254 and frameCount < 510 then\015\n  colourGRN = 255\015\n  if colourRED == 0 then else colourRED = colourRED - 1 end\015\n end\015\n if frameCount > 510 and frameCount < 765 then\015\n  colourGRN = 255\015\n  if colourBLU > 254 then else colourBLU = colourBLU + 1 end\015\n end\015\n if frameCount > 764 and frameCount < 1020 then\015\n  colourBLU = 255\015\n  if colourGRN == 0 then else colourGRN = colourGRN - 1 end\015\n end\015\n if frameCount > 1020 and frameCount < 1275 then\015\n  colourBLU = 255\015\n  if colourRED > 254 then else colourRED = colourRED + 1 end\015\n end\015\n if frameCount > 1274 and frameCount < 1530 then\015\n  colourRED = 255\015\n  if colourBLU == 0 then else colourBLU = colourBLU - 1 end\015\n end\015\ntpt.drawrect(613,1,14,95,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawrect(613,136,14,269,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(612,408,612,421,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(187,409,187,422,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(469,408,469,421,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(487,408,487,421,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(507,408,507,421,colourRED,colourGRN,colourBLU,255)\015\n\015\ntpt.drawline(241,408,241,421,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(36,408,36,421,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(18,408,18,421,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(580,409,580,422,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(596,409,596,422,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawrect(1,408,626,14,colourRED,colourGRN,colourBLU,255)\015\n\015\ntpt.drawline(613,96,627,96,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,16,627,16,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,32,627,32,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,48,627,48,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,64,627,64,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,80,627,80,colourRED,colourGRN,colourBLU,255)\015\n\015\ntpt.drawline(613,151,627,151,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,167,627,167,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,183,627,183,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,199,627,199,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,215,627,215,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,231,627,231,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,247,627,247,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,263,627,263,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,279,627,279,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,295,627,295,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,311,627,311,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,327,627,327,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,343,627,343,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,359,627,359,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,375,627,375,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(613,391,627,391,colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(1, 0, 310, 0, colourRED,colourGRN,colourBLU,255)\015\ntpt.drawline(340, 0, 610, 0,colourRED,colourGRN,colourBLU,255)\015\nend\015\n\015\ntpt.register_step(colourblender)\015\ntpt.register_step(theme)\015\nmp:action(function(sender)\015\nclearsb()\015\nfs.makeDirectory(\"scripts\")\015\nnewmenu:addComponent(mp1)\015\nnewmenu:addComponent(mp2)\015\nnewmenu:addComponent(mp3)\015\nnewmenu:addComponent(mp4)\015\nnewmenu:addComponent(mp5)\015\nnewmenu:addComponent(mp6)\015\nnewmenu:addComponent(mp7)\015\nnewmenu:addComponent(mp8)\015\nend)\015\n\015\nfunction mpremove()\015\nnewmenu:removeComponent(mp1)\015\nnewmenu:removeComponent(mp2)\015\nnewmenu:removeComponent(mp3)\015\nnewmenu:removeComponent(mp4)\015\nnewmenu:removeComponent(mp5)\015\nnewmenu:removeComponent(mp6)\015\nnewmenu:removeComponent(mp7)\015\nnewmenu:removeComponent(mp8)\015\nend\015\n\015\nmp1:action(function(sender)\015\nMANAGER.savesetting(\"CRK\",\"savergb\",0)\015\nMANAGER.savesetting(\"CRK\",\"ar\",70)\015\nMANAGER.savesetting(\"CRK\",\"ag\",70)\015\nMANAGER.savesetting(\"CRK\",\"ab\",70)\015\nMANAGER.savesetting(\"CRK\",\"al\",255)\015\ntpt.unregister_step(colourblender)\015\ntpt.register_step(theme)\015\nmpremove()\015\nend)\015\n\015\nmp2:action(function(sender)\015\nMANAGER.savesetting(\"CRK\",\"savergb\",0)\015\nMANAGER.savesetting(\"CRK\",\"ar\",255)\015\nMANAGER.savesetting(\"CRK\",\"ag\",0)\015\nMANAGER.savesetting(\"CRK\",\"ab\",0)\015\nMANAGER.savesetting(\"CRK\",\"al\",255)\015\ntpt.register_step(theme)\015\ntpt.unregister_step(colourblender)\015\nmpremove()\015\nend)\015\n\015\nmp3:action(function(sender)\015\nMANAGER.savesetting(\"CRK\",\"savergb\",0)\015\nMANAGER.savesetting(\"CRK\",\"ar\",0)\015\nMANAGER.savesetting(\"CRK\",\"ag\",0)\015\nMANAGER.savesetting(\"CRK\",\"ab\",255)\015\nMANAGER.savesetting(\"CRK\",\"al\",255)\015\ntpt.register_step(theme)\015\ntpt.unregister_step(colourblender)\015\nmpremove()\015\nend)\015\n\015\nmp4:action(function(sender)\015\nMANAGER.savesetting(\"CRK\",\"savergb\",0)\015\nMANAGER.savesetting(\"CRK\",\"ar\",0)\015\nMANAGER.savesetting(\"CRK\",\"ag\",255)\015\nMANAGER.savesetting(\"CRK\",\"ab\",0)\015\nMANAGER.savesetting(\"CRK\",\"al\",255)\015\ntpt.register_step(theme)\015\ntpt.unregister_step(colourblender)\015\nmpremove()\015\nend)\015\n\015\nmp5:action(function(sender)\015\nMANAGER.savesetting(\"CRK\",\"savergb\",0)\015\nMANAGER.savesetting(\"CRK\",\"ar\",255)\015\nMANAGER.savesetting(\"CRK\",\"ag\",255)\015\nMANAGER.savesetting(\"CRK\",\"ab\",0)\015\nMANAGER.savesetting(\"CRK\",\"al\",255)\015\ntpt.register_step(theme)\015\ntpt.unregister_step(colourblender)\015\nmpremove()\015\nend)\015\n\015\nmp6:action(function(sender)\015\nMANAGER.savesetting(\"CRK\",\"savergb\",0)\015\nMANAGER.savesetting(\"CRK\",\"ar\",255)\015\nMANAGER.savesetting(\"CRK\",\"ag\",150)\015\nMANAGER.savesetting(\"CRK\",\"ab\",0)\015\nMANAGER.savesetting(\"CRK\",\"al\",255)\015\ntpt.register_step(theme)\015\ntpt.unregister_step(colourblender)\015\nmpremove()\015\nend)\015\n\015\nmp7:action(function(sender)\015\nMANAGER.savesetting(\"CRK\",\"savergb\",0)\015\nMANAGER.savesetting(\"CRK\",\"ar\",255)\015\nMANAGER.savesetting(\"CRK\",\"ag\",255)\015\nMANAGER.savesetting(\"CRK\",\"ab\",255)\015\nMANAGER.savesetting(\"CRK\",\"al\",255)\015\ntpt.register_step(theme)\015\ntpt.unregister_step(colourblender)\015\nmpremove()\015\nend)\015\n\015\nmp8:action(function(sender)\015\nMANAGER.savesetting(\"CRK\",\"savergb\",1)\015\ntpt.register_step(colourblender)\015\ntpt.unregister_step(theme)\015\nmpremove()\015\nend)\015\n\015\nfunction topbar()\015\ntpt.drawline(1, 0, 310, 0, ar, ag, ab,150)\015\ntpt.drawline(340, 0, 610, 0,ar, ag, ab,150)\015\nend\015\n\015\ntpt.register_step(topbar)\015\n\015\nbar:action(function(sender)\015\nclearsb()\015\nnewmenu:addComponent(bary)\015\nnewmenu:addComponent(barn)\015\nend)\015\n\015\nbary:action(function(sender)\015\ntpt.register_step(topbar)\015\nclearsb()\015\nend)\015\n\015\nbarn:action(function(sender)\015\ntpt.unregister_step(topbar)\015\nclearsb()\015\nend)\015\n\015\n\015\nRuler:action(function(sender)\015\nclearsb()\015\nnewmenu:addComponent(Ry)\015\nnewmenu:addComponent(Rn)\015\nend)\015\n\015\nRy:action(function(sender)\015\ntpt.setdebug(0X0)\015\nnewmenu:removeComponent(Ry)\015\nnewmenu:removeComponent(Rn)\015\nend)\015\n\015\nRn:action(function(sender)\015\ntpt.setdebug(0X4)\015\nnewmenu:removeComponent(Ry)\015\nnewmenu:removeComponent(Rn)\015\nend)\015\n\015\ndeletesparkButton:action(function(sender)\015\nclearsb()\015\ntpt.hud(0)\015\nnewmenu:addComponent(UIhidey)\015\nnewmenu:addComponent(UIhiden)\015\nend)\015\n\015\n\015\nfunction UIhide()\015\ntpt.hud(0)\015\ntpt.fillrect(-1,382,616,42,0,0,0,255)\015\ntpt.fillrect(612,0,17,424,0,0,0,255)\015\nend\015\nUIhidey:action(function(sender)\015\ntpt.hud(0)\015\nnewmenu:removeComponent(UIhiden)\015\nnewmenu:removeComponent(UIhidey)\015\ntpt.unregister_step(topbar)\015\ntpt.register_step(UIhide)\015\nend)\015\n\015\nUIhiden:action(function(sender)\015\ntpt.hud(0)\015\nnewmenu:removeComponent(UIhiden)\015\nnewmenu:removeComponent(UIhidey)\015\ntpt.unregister_step(UIhide)\015\ntpt.register_step(topbar)\015\nend)\015\n\015\nFPS:action(function(sender)\015\nclearsb()\015\nnewmenu:addComponent(FPS1)\015\nnewmenu:addComponent(FPS2)\015\nend)\015\n\015\n\015\nFPS1:action(function(sender)\015\nnewmenu:removeComponent(FPS1)\015\nnewmenu:removeComponent(FPS2)\015\ntpt.setfpscap(60)\015\nend)\015\n\015\nFPS2:action(function(sender)\015\nnewmenu:removeComponent(FPS1)\015\nnewmenu:removeComponent(FPS2)\015\ntpt.setfpscap(160)\015\nend)\015\n\015\nreset:action(function(sender)\015\ntpt.unregister_step(autohidehud)\015\ntpt.hud(1)\015\nui.closeWindow(newmenu) \015\ntgr = 0\015\ntgg  = 0\015\ntgb = 200\015\ntpt.el.dyst.menu=0\015\ntpt.el.eqve.menu=0\015\ntpt.el.shd4.menu=0\015\ntpt.el.shd3.menu=0\015\ntpt.el.shd2.menu=0\015\ntpt.el.lolz.menu=0\015\ntpt.el.love.menu=0\015\ntpt.el.embr.menu=0\015\ntpt.el.spwn.menu=0\015\ntpt.el.spwn2.menu=0\015\ntpt.el.frzw.menu=0\015\ntpt.el.bizs.menu=0\015\ntpt.el.bizg.menu=0\015\ntpt.el.bray.menu=0\015\ntpt.el.psts.menu=0\015\ntpt.el.mort.menu=0\015\ntpt.unregister_step(UIhide)\015\ntpt.display_mode(3)\015\ntpt.watertest(0)\015\nsim.edgeMode(0) \015\ntpt.setfpscap(60)\015\ntpt.setwindowsize(1)\015\ntpt.register_step(colourblender)\015\ntpt.register_step(topbar)\015\ntpt.newtonian_gravity(0)\015\ntpt.decorations_enable(0)\015\nsim.resetPressure()\015\ntpt.ambient_heat(0)\015\nsim.resetTemp()\015\ntpt.reset_velocity(1,380,300,300)\015\nclearbg()\015\nclearsb()\015\ntpt.setdebug(0X0)\015\nsim.clearSim()\015\nend)\015\n\015\nhide:action(function(sender)\015\nui.closeWindow(newmenu) \015\nnewmenu:addComponent(toggle)\015\nclearsb()\015\nclearm()\015\ntpt.hud(1)\015\ntpt.set_pause(0)\015\nend)\015\n\015\n\015\n\015\nfunction keyclicky(key)\015\n    if (key == \"j\") then \015\n  ui.showWindow(newmenu) \015\ntpt.set_pause(1)\015\ntpt.hud(0)\015\nnewmenu:addComponent(deletesparkButton)\015\nnewmenu:addComponent(FPS)\015\nnewmenu:addComponent(info)\015\nnewmenu:addComponent(reset)\015\nnewmenu:addComponent(hide)\015\nnewmenu:addComponent(Ruler)\015\nnewmenu:addComponent(rc)\015\nnewmenu:addComponent(bg)\015\nnewmenu:addComponent(mp)\015\nnewmenu:addComponent(bug)\015\nnewmenu:addComponent(bar)\015\nnewmenu:addComponent(bare)\015\nnewmenu:addComponent(wiki)\015\nnewmenu:addComponent(autohide)\015\nnewmenu:removeComponent(toggle)\015\n    end\015\nend\015\ntpt.register_keypress(keyclicky) \015\n\015\ntoggle:action(function(sender)\015\nui.showWindow(newmenu) \015\ntpt.set_pause(1)\015\ntpt.hud(0)\015\nnewmenu:addComponent(deletesparkButton)\015\nnewmenu:addComponent(FPS)\015\nnewmenu:addComponent(info)\015\nnewmenu:addComponent(reset)\015\nnewmenu:addComponent(hide)\015\nnewmenu:addComponent(Ruler)\015\nnewmenu:addComponent(rc)\015\nnewmenu:addComponent(bg)\015\nnewmenu:addComponent(mp)\015\nnewmenu:addComponent(bug)\015\nnewmenu:addComponent(bar)\015\nnewmenu:addComponent(bare)\015\nnewmenu:addComponent(wiki)\015\nnewmenu:addComponent(autohide)\015\nnewmenu:removeComponent(toggle)\015\nend)\015\ninterface.addComponent(toggle)\015\n";
	luaL_loadbuffer(l, crackerk_luac, crackerk_luac_sz, "@crackerk.lua");
	lua_pcall(l, 0, 0, 0);
#else
	unsigned int size = 0;
	const char* data = NULL;
	Platform::LoadFileInResource(IDI_CRK, LUASCRIPT, size, data);
	char *buffer = new char[size + 1];
	::memcpy(buffer, data, size);
	buffer[size] = 0;
	luaL_loadbuffer(l, buffer, size, "@crackerk.lua");
	lua_pcall(l, 0, 0, 0);
	delete[] buffer;
#endif
}
#endif
